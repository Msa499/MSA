<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MSA | The Future of AI</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&family=Orbitron:wght@700&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-color: #03001C;
            --primary-color: #301E67;
            --secondary-color: #5B8FB9;
            --accent-color: #B6EADA;
            --glow-color: #00f2ea;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--bg-color);
            color: #fff;
            overflow-x: hidden;
        }

        #preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: var(--bg-color);
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        .loader {
            width: 50px;
            height: 50px;
            border: 5px solid var(--primary-color);
            border-top: 5px solid var(--accent-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: -1;
            opacity: 0.5;
        }

        .content-wrapper {
            position: relative;
            z-index: 2;
        }

        .hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 0 20px;
        }

        .hero h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 4rem;
            margin-bottom: 20px;
            color: var(--accent-color);
            text-shadow: 0 0 10px var(--glow-color), 0 0 20px var(--glow-color);
            opacity: 0;
            transform: translateY(30px);
        }

        .hero p {
            font-size: 1.5rem;
            max-width: 600px;
            color: #ccc;
            margin-bottom: 40px;
            opacity: 0;
            transform: translateY(30px);
        }
        
        .cta-button {
            text-decoration: none;
            color: var(--bg-color);
            background-color: var(--accent-color);
            padding: 15px 35px;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 900; /* Bolder font */
            transition: all 0.3s ease;
            box-shadow: 0 0 15px var(--glow-color);
            opacity: 0;
            transform: translateY(30px);
        }

        .cta-button:hover {
            transform: scale(1.1) translateY(30px);
            box-shadow: 0 0 25px var(--glow-color), 0 0 35px var(--glow-color);
        }

        .scroll-down {
            position: absolute;
            bottom: 30px;
            color: var(--accent-color);
            font-size: 1rem;
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-15px); }
            60% { transform: translateY(-7px); }
        }

        .feature-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            align-items: center;
            gap: 50px;
            min-height: 80vh;
            padding: 100px 10%;
            overflow: hidden;
        }
        .feature-section:nth-child(odd) .text-content {
            order: 2; /* Change order for alternating layout */
        }

        .text-content, .details-content {
            opacity: 0;
            transform: translateY(50px);
        }

        .text-content h2 {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.8rem; /* Larger Title */
            color: var(--secondary-color);
            margin-bottom: 20px;
        }

        .text-content p {
            font-size: 1.3rem; /* Larger Text */
            line-height: 1.8;
            color: #b0b0b0;
            max-width: 500px;
        }

        .details-content ul {
            list-style: none;
            padding: 0;
        }
        .details-content li {
            background: rgba(48, 30, 103, 0.4);
            margin-bottom: 10px;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid var(--accent-color);
            font-size: 1.1rem;
            transition: transform 0.3s ease, background 0.3s ease;
        }
        .details-content li:hover {
            transform: translateX(-10px);
            background: rgba(48, 30, 103, 0.8);
        }

        /* Horus Chatbot Styles */
        #horus-chatbot-button {
            position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px;
            background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));
            border-radius: 50%; display: flex; justify-content: center; align-items: center;
            cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.4); z-index: 1000;
            transition: transform 0.3s ease;
        }
        #horus-chatbot-button:hover { transform: scale(1.1); }
        #horus-chatbot-button img { width: 35px; height: 35px; filter: brightness(0) invert(1); }

        #horus-chat-window {
            position: fixed; bottom: 100px; right: 30px; width: 350px; height: 500px;
            background-color: rgba(3, 0, 28, 0.85); backdrop-filter: blur(10px);
            border-radius: 15px; box-shadow: 0 5px 25px rgba(0,0,0,0.5);
            display: flex; flex-direction: column; overflow: hidden; z-index: 999;
            transform: scale(0); transform-origin: bottom right;
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        #horus-chat-window.open { transform: scale(1); }
        .chat-header {
            padding: 15px; background-color: rgba(0, 0, 0, 0.3); color: var(--accent-color);
            font-weight: bold; display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid var(--secondary-color);
        }
        .chat-header #close-chat { background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; }
        .chat-body { flex-grow: 1; padding: 15px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; }
        .chat-body::-webkit-scrollbar { width: 8px; }
        .chat-body::-webkit-scrollbar-track { background: #222; }
        .chat-body::-webkit-scrollbar-thumb { background-color: var(--secondary-color); border-radius: 20px; }
        .chat-message { padding: 10px 15px; border-radius: 18px; max-width: 80%; word-wrap: break-word; }
        .bot-message { background-color: var(--primary-color); color: #fff; align-self: flex-start; border-bottom-left-radius: 4px; }
        .user-message { background-color: var(--secondary-color); color: #fff; align-self: flex-end; border-bottom-right-radius: 4px; }
        .chat-footer { display: flex; padding: 10px; border-top: 1px solid var(--secondary-color); }
        .chat-footer input { flex-grow: 1; border: none; padding: 10px; border-radius: 20px; background-color: #333; color: #fff; margin-right: 10px; }
        .chat-footer input:focus { outline: none; box-shadow: 0 0 0 2px var(--accent-color); }
        .chat-footer button { background-color: var(--accent-color); border: none; color: var(--bg-color); font-weight: bold; padding: 10px 15px; border-radius: 20px; cursor: pointer; transition: background-color 0.3s; }
        .chat-footer button:hover { background-color: #a2d9c8; }
        
        @media (max-width: 992px) {
            .feature-section { grid-template-columns: 1fr; text-align: center; }
            .feature-section:nth-child(odd) .text-content { order: 0; } /* Reset order on mobile */
            .text-content p { margin: 0 auto; }
            .details-content li:hover { transform: translateX(0) scale(1.05); }
            .details-content { margin-top: 30px; }
        }
        @media (max-width: 768px) {
            .hero h1 { font-size: 2.5rem; }
            .hero p { font-size: 1.2rem; }
        }
    </style>
</head>
<body>

    <div id="preloader"><div class="loader"></div></div>
    <canvas id="bg-canvas"></canvas>

    <div class="content-wrapper">
        <section class="hero">
            <h1 id="hero-title">بناء مستقبل الذكاء</h1>
            <p id="hero-subtitle">نحن لا نطور حلول الذكاء الاصطناعي، بل نصنع شركاء رقميين ينمون مع طموحاتك.</p>
            <a href="second.html" class="cta-button" id="hero-cta">تسجيل الدخول</a>
            <div class="scroll-down">اسحب للأسفل &#x2193;</div>
        </section>

        <section id="features">
            <div class="feature-section">
                <div class="text-content">
                    <h2>برنامج البرمجة</h2>
                    <p>من الفكرة إلى الواقع. تعلم بناء أحدث المواقع وتطبيقات الموبايل مع مشاريع حقيقية تضمن لك اكتساب خبرة عملية.</p>
                </div>
                <div class="details-content">
                    <ul>
                        <li>💻 تطوير المواقع الإلكترونية (Frontend & Backend)</li>
                        <li>📱 برمجة تطبيقات الموبايل (iOS & Android)</li>
                        <li>📜 أساسيات اللغات (HTML, CSS, JS, Python)</li>
                    </ul>
                </div>
            </div>

            <div class="feature-section">
                <div class="text-content">
                    <h2>برنامج الذكاء الاصطناعي</h2>
                    <p>أطلق العنان لقوة الذكاء الاصطناعي. تعلم كيفية إنشاء محتوى مذهل، وبناء أنظمة ذكية، وتحليل البيانات لاتخاذ قرارات أفضل.</p>
                </div>
                <div class="details-content">
                    <ul>
                        <li>🎬 إنشاء فيديوهات احترافية بالذكاء الاصطناعي</li>
                        <li>🤖 بناء بوتات دردشة ذكية ومتجاوبة</li>
                        <li>🧠 تطوير نماذج تعلم آلي (ML Models)</li>
                        <li>📊 تحليل البيانات الضخمة (Big Data)</li>
                    </ul>
                </div>
            </div>

            <div class="feature-section">
                <div class="text-content">
                    <h2>برنامج التصميمات</h2>
                    <p>حوّل الأفكار إلى تصاميم تخطف الأنظار. تعلم فن صناعة الهوية البصرية وتصميمات السوشيال ميديا التي تحقق نتائج.</p>
                </div>
                <div class="details-content">
                    <ul>
                        <li>🎨 بوسترات (أفلام، إعلانات، سوشيال ميديا)</li>
                        <li>✨ تصميم الشعارات والهوية البصرية الكاملة</li>
                        <li>📄 تصميم احترافي للسيرة الذاتية (CV)</li>
                    </ul>
                </div>
            </div>

        </section>

        <div id="horus-chatbot-button"><img src="https://api.iconify.design/ph:eye-bold.svg" alt="Horus Chatbot"></div>
        <div id="horus-chat-window">
            <div class="chat-header"><h3>Horus Bot 𓂀</h3><button id="close-chat">&times;</button></div>
            <div class="chat-body" id="chat-body"></div>
            <div class="chat-footer"><input type="text" id="chat-input" placeholder="اكتب رسالتك هنا..."><button id="send-btn">أرسل</button></div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>

    <script>
        window.addEventListener('load', () => {
            const preloader = document.getElementById('preloader');
            preloader.style.opacity = '0';
            preloader.style.visibility = 'hidden';

            // --- 3D Background (No changes needed) ---
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('bg-canvas'), alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight); camera.position.z = 5;
            const particlesGeometry = new THREE.BufferGeometry; const particlesCount = 5000;
            const posArray = new Float32Array(particlesCount * 3);
            for (let i = 0; i < particlesCount * 3; i++) { posArray[i] = (Math.random() - 0.5) * 10; }
            particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
            const particlesMaterial = new THREE.PointsMaterial({ size: 0.015, color: 0xB6EADA });
            const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial); scene.add(particlesMesh);
            let mouseX = 0, mouseY = 0;
            document.addEventListener('mousemove', (event) => { mouseX = (event.clientX / window.innerWidth) * 2 - 1; mouseY = -(event.clientY / window.innerHeight) * 2 + 1; });
            const clock = new THREE.Clock();
            const animate = () => { const elapsedTime = clock.getElapsedTime(); particlesMesh.rotation.y = elapsedTime * 0.1; camera.position.x += (mouseX * 0.1 - camera.position.x) * 0.02; camera.position.y += (mouseY * 0.1 - camera.position.y) * 0.02; camera.lookAt(scene.position); renderer.render(scene, camera); window.requestAnimationFrame(animate); };
            animate();
            window.addEventListener('resize', () => { renderer.setSize(window.innerWidth, window.innerHeight); camera.aspect = window.innerWidth / window.innerHeight; camera.updateProjectionMatrix(); });

            // --- Scrolling Animations ---
            gsap.registerPlugin(ScrollTrigger);
            gsap.to('#hero-title', { opacity: 1, y: 0, duration: 1, delay: 0.5 });
            gsap.to('#hero-subtitle', { opacity: 1, y: 0, duration: 1, delay: 0.8 });
            gsap.to('#hero-cta', { opacity: 1, y: 0, duration: 1, delay: 1.1 });
            document.querySelectorAll('.feature-section').forEach(section => {
                const elements = section.querySelectorAll('.text-content, .details-content');
                gsap.from(elements, {
                    y: 50, opacity: 0, duration: 1, stagger: 0.3,
                    scrollTrigger: { trigger: section, start: "top 80%", toggleActions: "play none none reverse" }
                });
            });

            // --- Horus Chatbot Full Logic ---
            const chatButton = document.getElementById('horus-chatbot-button');
            const chatWindow = document.getElementById('horus-chat-window');
            const closeChatButton = document.getElementById('close-chat');
            const sendButton = document.getElementById('send-btn');
            const chatInput = document.getElementById('chat-input');
            const chatBody = document.getElementById('chat-body');

            chatButton.addEventListener('click', () => chatWindow.classList.toggle('open'));
            closeChatButton.addEventListener('click', () => chatWindow.classList.remove('open'));

            function addMessage(text, sender) {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('chat-message', `${sender}-message`);
                messageDiv.innerHTML = text.replace(/\n/g, '<br>'); // Support new lines
                chatBody.appendChild(messageDiv);
                chatBody.scrollTop = chatBody.scrollHeight;
            }

            // === HORUS AI LOGIC ===
            function getHorusResponse(userInput) {
                const lowerInput = userInput.toLowerCase();
                const workKeywords = ["شغل", "تعاون", "أعمل موقع", "اصمملي", "لوجو", "تطبيق", "مشروع", "سعر", "تكلفة"];
                if (workKeywords.some(keyword => lowerInput.includes(keyword))) {
                    return `بالتأكيد! يسعدنا التعاون معك. يمكنك مناقشة تفاصيل مشروعك مباشرة مع فريقنا المختص عبر واتساب 🎉\n\n👈 للتواصل المباشر مع فريق MSA: <a href="https://wa.me/2012229027250" target="_blank">https://wa.me/201229027250</a>`;
                }
                const programKeywords = ["برامج", "خدمات", "بتعملوا ايه", "كورسات", "اتعلم", "تفاصيل"];
                if (programKeywords.some(keyword => lowerInput.includes(keyword))) {
                    return `أهلاً بك في MSA! نحن نقدم مجموعة من البرامج الاحترافية لمساعدتك على تحقيق أهدافك. إليك نظرة سريعة على باقاتنا الرئيسية:\n
1️⃣ **برنامج البرمجة:** لتعلم تطوير المواقع والتطبيقات من الصفر إلى الاحتراف.\n
2️⃣ **برنامج الذكاء الاصطناعي:** لإنشاء محتوى ذكي (فيديو وصور) وبناء أنظمة تحليلية.\n
3️⃣ **برنامج التصميمات:** لصناعة هوية بصرية كاملة وتصميمات سوشيال ميديا جذابة.\n
أي برنامج يثير اهتمامك أكثر لأعطيك تفاصيل أدق؟ 🤔`;
                }
                switch(lowerInput) {
                    case "مرحبا": case "أهلا": case "hi": case "hello":
                        return "أهلاً بك! أنا حورس، مساعدك الذكي من MSA. كيف يمكنني خدمتك اليوم؟ ✨";
                    case "شكرا": case "شكراً":
                        return "على الرحب والسعة! أنا هنا دائمًا للمساعدة. هل لديك أي استفسارات أخرى؟ 😊";
                    default:
                        return "لم أفهم سؤالك تمامًا. هل يمكنك توضيحه؟ أنا هنا لمساعدتك في أي استفسار عن برامجنا في البرمجة، الذكاء الاصطناعي، أو التصميم. 🤖";
                }
            }

            function sendMessage() {
                const userInput = chatInput.value.trim();
                if (userInput === "") return;
                addMessage(userInput, 'user');
                chatInput.value = "";
                setTimeout(() => {
                    const botResponse = getHorusResponse(userInput);
                    addMessage(botResponse, 'bot');
                }, 1000);
            }

            sendButton.addEventListener('click', sendMessage);
            chatInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') sendMessage(); });
            
            setTimeout(() => {
                addMessage("مرحباً بك في MSA! أنا حورس، مساعدك الذكي. يمكنك سؤالي عن أي من برامجنا الاحترافية. 🦾", 'bot');
            }, 1500);
        });
    </script>
</body>
</html>
